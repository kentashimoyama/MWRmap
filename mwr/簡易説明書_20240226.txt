【ミリ波、Python用CANデータログ収集アプリ　簡易説明書】

◯概要
　本プログラムはUbuntu上で動作するミリ波のCAN通信ログを取得し、csvに出力し続けるアプリです。


◯動作環境
　OS：Ubuntu18.04以降
　接続機器：Lawcell CANUSB
　総合開発環境：Visual Studio Code
　使用言語：Python3


◯使用方法
１,・PCを起動する。(当該ノートPCの場合はキーボード上中央の電源ボタン)
２,・ubuntuにログインする。
３,・左下の「アプリケーションを表示する」アイコンをクリックする。
４,・メニューから「Visual Studio Code(以下VSCode)」をクリックして起動する。
　　(当該PCの場合は2ページ目の2段目にアイコン)
５,・ubuntu上のディレクトリにプログラム「canread_240222.py」をコピーする。
　　(本例では「/ホーム/pydata」にコピー)
６,・CANUSBをPCに接続する。
７,・ターミナルからコマンド"ls/dev"を実行し、"tty/USB*"があることを確認する。※
　　ttyUSB0 or ttyUSB1と表示されるため、コードのL330あたりのUSB定義が一致しているか確認ください。
８,・VScodeの「Explorer」をクリックし、プログラムを「canread_240222.py」を開く。
９,・ミリ波センサに12V電源を接続し、ONにする。
１０,・VScodeの「Start Debugging」をクリックし、デバッグを実行する。
　　メニューバー「Debug」＞「Start Debugging」または左の虫マークをクリック＞再生マーク
１１,・デバッグターミナルに検出点データが出力されていることを確認する。
〜〜データ取得中〜〜
１２,・データ送受信中にデバッグターミナルをクリックし、キーボードの「Q」を押すと"sensorStop"コマンド送信後、プログラムが終了する。
１３,・プログラム「canread_240222.py」と同じディレクトリに作成されたログデータ(csv２個、dat１個)を確認する。


　※Ubuntu22.04以上の環境では、点字ディスプライドライバ「bultty」との競合により"/dev/ttyUSB0"が認識されないため、
　　以下の手順を実行する。
　　１,PCからCANUSBを取り外す。
　　２,ターミナルからコマンド"sudo apt remove brltty"を入力(ドライバ「bultty」の削除)
　　３,ターミナルからコマンド"sudo udevadm control --reload"を入力(udevのルールをリロード)
　　４,再度PCにCANUSBを接続する。


◯ログデータファイル名規則
　[日付]_[実行時点のUNIXTIME]

　[日付] = yymmdd形式　例：2024年2月26日 = 20240226
　[実行時点のUNIXTIME] = UNIXTIME形式で追加


◯終了方法
　各種ウィンドウを閉じ、Ubuntu右上メニューから電源マークでシャットダウンする。

